paths:
  /api/categorie:
    post:
      summary: Cr√©er une nouvelle cat√©gorie
      tags: [Cat√©gories]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - nomcategorie
              properties:
                nomcategorie:
                  type: string
                  example: "√âlectronique"
                  description: "Nom de la cat√©gorie"
                description:
                  type: string
                  example: "Appareils √©lectroniques et gadgets"
                  description: "Description de la cat√©gorie"
                image:
                  type: string
                  format: binary
                  description: "Image de la cat√©gorie"
                icone:
                  type: string
                  example: "üì±"
                  description: "Ic√¥ne de la cat√©gorie"
                couleur:
                  type: string
                  example: "#3B82F6"
                  description: "Couleur de la cat√©gorie"
                groupe:
                  type: string
                  example: "64a1b2c3d4e5f6789abcdef0"
                  description: "ID du groupe parent"
                actif:
                  type: boolean
                  default: true
                  description: "Statut actif de la cat√©gorie"
      responses:
        201:
          description: Cat√©gorie cr√©√©e avec succ√®s
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                  nomcategorie:
                    type: string
                  description:
                    type: string
                  image:
                    type: string
                  icone:
                    type: string
                  couleur:
                    type: string
                  groupe:
                    type: string
                  actif:
                    type: boolean
        400:
          description: Erreur de validation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: Erreur serveur
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    get:
      summary: Obtenir toutes les cat√©gories
      tags: [Cat√©gories]
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            default: 1
          description: Num√©ro de page
        - in: query
          name: limit
          schema:
            type: integer
            default: 10
          description: Nombre de cat√©gories par page
        - in: query
          name: groupe
          schema:
            type: string
          description: Filtrer par groupe
        - in: query
          name: actif
          schema:
            type: boolean
          description: Filtrer par statut actif
      responses:
        200:
          description: Liste des cat√©gories r√©cup√©r√©e avec succ√®s
          content:
            application/json:
              schema:
                type: object
                properties:
                  categories:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                        nomcategorie:
                          type: string
                        description:
                          type: string
                        image:
                          type: string
                        icone:
                          type: string
                        couleur:
                          type: string
                        groupe:
                          type: object
                        actif:
                          type: boolean
                  total:
                    type: integer
                  page:
                    type: integer
                  limit:
                    type: integer
        500:
          description: Erreur serveur
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/categorie/{id}:
    get:
      summary: Obtenir une cat√©gorie par ID
      tags: [Cat√©gories]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: ID de la cat√©gorie
      responses:
        200:
          description: Cat√©gorie trouv√©e
          content:
            application/json:
              schema:
                type: object
        404:
          description: Cat√©gorie non trouv√©e
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      summary: Mettre √† jour une cat√©gorie
      tags: [Cat√©gories]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: ID de la cat√©gorie
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                nomcategorie:
                  type: string
                description:
                  type: string
                image:
                  type: string
                  format: binary
                icone:
                  type: string
                couleur:
                  type: string
                groupe:
                  type: string
                actif:
                  type: boolean
      responses:
        200:
          description: Cat√©gorie mise √† jour avec succ√®s
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: Cat√©gorie non trouv√©e
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      summary: Supprimer une cat√©gorie
      tags: [Cat√©gories]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: ID de la cat√©gorie
      responses:
        200:
          description: Cat√©gorie supprim√©e avec succ√®s
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: Cat√©gorie non trouv√©e
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
