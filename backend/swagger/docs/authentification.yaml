paths:
  /api/auth/signup:
    post:
      summary: Inscription d'un nouvel utilisateur
      tags: [Authentification]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - nom
                - prenom
                - email
                - password
                - telephone
              properties:
                nom:
                  type: string
                  example: "Dupont"
                  description: "Nom de famille"
                prenom:
                  type: string
                  example: "Jean"
                  description: "Prénom"
                email:
                  type: string
                  format: email
                  example: "jean.dupont@example.com"
                  description: "Adresse email"
                password:
                  type: string
                  example: "motdepasse123"
                  description: "Mot de passe"
                telephone:
                  type: string
                  example: "+237123456789"
                  description: "Numéro de téléphone"
                genre:
                  type: string
                  enum: [homme, femme]
                  example: "homme"
                  description: "Genre"
                photoProfil:
                  type: string
                  format: base64
                  description: "Photo de profil en base64"
      responses:
        201:
          description: Utilisateur créé avec succès
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Utilisateur créé avec succès"
                  token:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  user:
                    type: object
        400:
          description: Erreur de validation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: Erreur serveur
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/signin:
    post:
      summary: Connexion d'un utilisateur
      tags: [Authentification]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: "jean.dupont@example.com"
                  description: "Adresse email"
                password:
                  type: string
                  example: "motdepasse123"
                  description: "Mot de passe"
      responses:
        200:
          description: Connexion réussie
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Connexion réussie"
                  token:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  user:
                    type: object
                    properties:
                      _id:
                        type: string
                      nom:
                        type: string
                      prenom:
                        type: string
                      email:
                        type: string
                      telephone:
                        type: string
        401:
          description: Identifiants incorrects
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: Erreur serveur
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/logout:
    post:
      summary: Déconnexion d'un utilisateur
      tags: [Authentification]
      security:
        - bearerAuth: []
      responses:
        200:
          description: Déconnexion réussie
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Déconnexion réussie"
        401:
          description: Token invalide
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/verify:
    get:
      summary: Vérifier la validité d'un token
      tags: [Authentification]
      security:
        - bearerAuth: []
      responses:
        200:
          description: Token valide
          content:
            application/json:
              schema:
                type: object
                properties:
                  valid:
                    type: boolean
                    example: true
                  user:
                    type: object
        401:
          description: Token invalide
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/refresh:
    post:
      summary: Rafraîchir un token
      tags: [Authentification]
      security:
        - bearerAuth: []
      responses:
        200:
          description: Token rafraîchi avec succès
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        401:
          description: Token invalide
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
